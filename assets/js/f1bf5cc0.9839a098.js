"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3413],{5680:(e,n,t)=>{t.d(n,{xA:()=>u,yg:()=>m});var o=t(6540);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,o,i=function(e,n){if(null==e)return{};var t,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var l=o.createContext({}),d=function(e){var n=o.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},u=function(e){var n=d(e.components);return o.createElement(l.Provider,{value:n},e.children)},p="mdxType",g={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},c=o.forwardRef((function(e,n){var t=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=d(t),c=i,m=p["".concat(l,".").concat(c)]||p[c]||g[c]||r;return t?o.createElement(m,a(a({ref:n},u),{},{components:t})):o.createElement(m,a({ref:n},u))}));function m(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var r=t.length,a=new Array(r);a[0]=c;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s[p]="string"==typeof e?e:i,a[1]=s;for(var d=2;d<r;d++)a[d]=t[d];return o.createElement.apply(null,a)}return o.createElement.apply(null,t)}c.displayName="MDXCreateElement"},6933:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>g,frontMatter:()=>r,metadata:()=>s,toc:()=>d});var o=t(8168),i=(t(6540),t(5680));const r={id:"considerations",title:"Practical Considerations"},a=void 0,s={unversionedId:"guides/considerations",id:"guides/considerations",title:"Practical Considerations",description:"Having understood the requirements for running a full node or a smeshing node, it is important to take note of the following considerations as you embark on your smeshing journey.",source:"@site/docs/guides/considerations.md",sourceDirName:"guides",slug:"/guides/considerations",permalink:"/docs/guides/considerations",draft:!1,editUrl:"https://github.com/spacemeshos/docs/edit/main/docs/guides/considerations.md",tags:[],version:"current",frontMatter:{id:"considerations",title:"Practical Considerations"},sidebar:"start",previous:{title:"System Requirements",permalink:"/docs/guides/smeshing/requirements"},next:{title:"Network Configuration",permalink:"/docs/guides/smeshing/netconfig"}},l={},d=[{value:"CPU Usage",id:"cpu-usage",level:3},{value:"Network Configuration",id:"network-configuration",level:3},{value:"Using a Laptop for Smeshing",id:"using-a-laptop-for-smeshing",level:3},{value:"PoS Data",id:"pos-data",level:3},{value:"PoST Initialization",id:"post-initialization",level:3},{value:"Ongoing Smeshing",id:"ongoing-smeshing",level:3}],u={toc:d},p="wrapper";function g(e){let{components:n,...t}=e;return(0,i.yg)(p,(0,o.A)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,i.yg)("p",null,"Having understood the requirements for running a full node or a smeshing node, it is important to take note of the following considerations as you embark on your smeshing journey."),(0,i.yg)("h3",{id:"cpu-usage"},"CPU Usage"),(0,i.yg)("p",null,"As long as your system and configuration meet the recommended requirements, the on-going utilization of your CPU by the Smapp should be limited to 2 CPU cores during normal operation (after the initial setup phase)."),(0,i.yg)("h3",{id:"network-configuration"},"Network Configuration"),(0,i.yg)("p",null,"Your network should allow the Smapp to accept incoming connections on ",(0,i.yg)("strong",{parentName:"p"},"UDP port 7153")," and on ",(0,i.yg)("strong",{parentName:"p"},"TCP port 7153")," and your computer firewall ",(0,i.yg)("strong",{parentName:"p"},"should not block incoming UDP and TPC packets on this port"),". The App attempts to automatically configure your network using UPnP. In some cases you may need to configure your router and firewall manually. Follow ",(0,i.yg)("a",{parentName:"p",href:"/docs/guides/smeshing/netconfig"},"this guide")," to configure your network. In addition, we strongly recommend storing the node state (i.e., the ",(0,i.yg)("inlineCode",{parentName:"p"},"data-folder"),") on a fast drive such as a SSD, as opposed to a HDD, to ensure that disk throughput does not limit the node's ability to keep up with the network."),(0,i.yg)("h3",{id:"using-a-laptop-for-smeshing"},"Using a Laptop for Smeshing"),(0,i.yg)("p",null,"Of course, you can smesh on your laptop if it meets the minimum system requirements. However, you will need to make sure you leave your laptop ",(0,i.yg)("strong",{parentName:"p"},"open/awake and connected to power and to the Internet 24/7"),". This may degrade your laptop's battery."),(0,i.yg)("p",null,"Occasionally ",(0,i.yg)("strong",{parentName:"p"},"shutting down your laptop or the Smapp may prevent you from Smeshing blocks and from earning Smeshing rewards"),"."),(0,i.yg)("h3",{id:"pos-data"},"PoS Data"),(0,i.yg)("p",null,"You only need to setup proof of space data once to smesh for an unlimited period of time. The larger your proof of space data is, the higher your smeshing rewards will be."),(0,i.yg)("p",null,"You can use any magnetic hard disk drive (HDD) or solid state drive (SSD) for storing the PoS data. There is no significant advantage in using an SSD over HDD. "),(0,i.yg)("p",null,"You do not need to have temporary disk space larger than your final proof of space data. Creating proof of space data on more than one volume is not yet supported."),(0,i.yg)("h3",{id:"post-initialization"},"PoST Initialization"),(0,i.yg)("p",null,"PoST init is designed to be done with a GPU. It can be done with a CPU, but it will be orders of magnitude slower. The newer and faster the GPU, the faster the initialization process."),(0,i.yg)("p",null,"As a benchmark, the minimum PoST data size (256GiB, or 4 storage units) can be initialized in 8-10 hours using a single Nvidia GeForce RTX 4090. The same data would take around 36 hours using a Nvidia GeForce RTX 3060. Initialization time scales linearly, so that initializing 40 SU would take 10x as long as initializing 4 SU."),(0,i.yg)("p",null,"Note that initialization can be parallelized across multiple systems or multiple GPUs, and it can be performed on one system (including in the cloud) and the resultant data moved to another system (e.g., one without a GPU) for long-term storage and smeshing. There's more information on this below."),(0,i.yg)("h3",{id:"ongoing-smeshing"},"Ongoing Smeshing"),(0,i.yg)("p",null,"Smeshing on an ongoing basis does ",(0,i.yg)("em",{parentName:"p"},"not")," require a GPU. The only additional resource consideration for smeshing, beyond the baseline cost of running a full node (as outlined above), is the cost of generating a ",(0,i.yg)("a",{parentName:"p",href:"/docs/learn/post"},"proof of space")," once per epoch. The time required to generate a proof is complicated and multivariate, depending on several factors including CPU speed, disk speed, size of PoST data, and the ",(0,i.yg)("inlineCode",{parentName:"p"},"smeshing-proving-opts")," settings specified in config (more on this below). "),(0,i.yg)("p",null,"The general requirement is a modern CPU with the ",(0,i.yg)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/AES_instruction_set"},"AES-NI")," instruction and a disk that is fast enough to perform a single, sequential read over the entire PoST data in a reasonable amount of time. This allows enough time to perform a second read during the PoET cycle gap on the off chance that the first pass fails to generate a valid proof. Hard drive performance varies widely but most modern 7200 RPM HDDs can perform a sequential read at 100-200mb/sec (5400 RPM drives are slower). This means that, to be safe, a smesher shouldn't initialize more than 2-4 TB or 8-16 SU on a single HDD. It's certainly possible to initialize more and smeshers with 4TB drives and fast CPUs report no issues generating a proof in time, but the probability of failure increases with each additional byte initialized. It's also possible to achieve much higher read speeds using more expensive technology such as SSD and/or RAID."),(0,i.yg)("p",null,"For much more information see ",(0,i.yg)("a",{parentName:"p",href:"/docs/guides/smeshing/smeshing_adv/advanced#fine-tuning-proving"},"fine-tuning proving")," and ",(0,i.yg)("a",{parentName:"p",href:"https://github.com/spacemeshos/post-rs/blob/main/docs/profiler.md"},"the profiler tool")," which can be used to benchmark one's hardware."),(0,i.yg)("p",null,"The next step is to see if your network is configured properly to support smeshing operations. While it is more than likely that your network is ready for smeshing, it is nonetheless worth going over the ",(0,i.yg)("a",{parentName:"p",href:"/docs/guides/smeshing/netconfig"},"network configuration requirements")," for smeshing."))}g.isMDXComponent=!0}}]);