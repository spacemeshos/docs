"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[606],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>u});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=r.createContext({}),l=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},m=function(e){var t=l(e.components);return r.createElement(p.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,p=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),f=l(n),u=i,d=f["".concat(p,".").concat(u)]||f[u]||c[u]||o;return n?r.createElement(d,a(a({ref:t},m),{},{components:n})):r.createElement(d,a({ref:t},m))}));function u(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,a=new Array(o);a[0]=f;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s.mdxType="string"==typeof e?e:i,a[1]=s;for(var l=2;l<o;l++)a[l]=n[l];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}f.displayName="MDXCreateElement"},8277:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>a,default:()=>c,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var r=n(7462),i=(n(7294),n(3905));const o={id:"performance",title:"Fine-Tuning Node Performance"},a=void 0,s={unversionedId:"start/smesher/performance",id:"start/smesher/performance",title:"Fine-Tuning Node Performance",description:"Besides Performance optimisations while running public-private nodes setup there are few other settings that can be used to fine tune the performance of a node.",source:"@site/docs/start/smesher/performance.md",sourceDirName:"start/smesher",slug:"/start/smesher/performance",permalink:"/docs/start/smesher/performance",draft:!1,tags:[],version:"current",frontMatter:{id:"performance",title:"Fine-Tuning Node Performance"},sidebar:"start",previous:{title:"Networking",permalink:"/docs/start/smesher/networking"},next:{title:"Avoiding Equivocation",permalink:"/docs/start/smesher/equivocation"}},p={},l=[{value:"Verifying workers",id:"verifying-workers",level:3},{value:"RandomX fast mode",id:"randomx-fast-mode",level:3}],m={toc:l};function c(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Besides ",(0,i.kt)("a",{parentName:"p",href:"#performance-optimisations-while-running-public-private-nodes-setup"},"Performance optimisations while running public-private nodes setup")," there are few other settings that can be used to fine tune the performance of a node.\nPlease note that these are not directly related to the proving performance but they ",(0,i.kt)("em",{parentName:"p"},"may")," impact it depending on the system, setup, hardware etc."),(0,i.kt)("h3",{id:"verifying-workers"},"Verifying workers"),(0,i.kt)("p",null,"Wherever your node will get new ATX it needs to validate it. This is done by the verifying workers. By default there are half of the CPU cores assigned workers that are used to validate the ATXs. You can set the number of workers by setting the following config:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},'"smeshing": {\n  "smeshing-verifying-opts": {\n    "smeshing-opts-verifying-min-workers": 1,\n    "smeshing-opts-verifying-workers": 12\n  }\n}\n')),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"smeshing-opts-verifying-min-workers")," defines the minimal number of workers. Node will automatically scale down to that number WHEN it's proving. When it's not proving it will use up to ",(0,i.kt)("inlineCode",{parentName:"p"},"smeshing-opts-verifying-workers")," workers."),(0,i.kt)("p",null,"In order to minimize system impact, ",(0,i.kt)("inlineCode",{parentName:"p"},"smeshing-opts-verifying-min-workers")," can be configured to ",(0,i.kt)("inlineCode",{parentName:"p"},"1")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"smeshing-opts-verifying-workers")," can also be set to ",(0,i.kt)("inlineCode",{parentName:"p"},"1"),". While these settings ensure the lowest strain on system resources, it is important to note that they will result in slower ATX (Activation Transaction) verification, consequently affecting the synchronization speed."),(0,i.kt)("p",null,"For those who are actively smeshing on the node, it is advisable to set the ",(0,i.kt)("inlineCode",{parentName:"p"},"smeshing-opts-verifying-workers")," to the same value as ",(0,i.kt)("inlineCode",{parentName:"p"},"smeshing-opts-proving-workers"),". This configuration is optimal for reducing the potential negative performance impact on smeshing for other nodes, particularly if the given node has completed its proof of space-time."),(0,i.kt)("h3",{id:"randomx-fast-mode"},"RandomX fast mode"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},' "smeshing": {\n    "smeshing-verifying-opts": {\n      "smeshing-opts-verifying-powflags": 14\n    }\n  }\n')),(0,i.kt)("p",null,"Similarly as in the previous section you can set the RadomX mode. RandomX is also used with every incoming ATX. Setting that to ",(0,i.kt)("inlineCode",{parentName:"p"},"14")," from the default ",(0,i.kt)("inlineCode",{parentName:"p"},"10")," makes it significanly faster but in expense of 2GiB extra ram used. In most setups that's not needed but if you have spare ram then it's safe to use."))}c.isMDXComponent=!0}}]);